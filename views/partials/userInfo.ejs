<div class="expediente text-center" style="
  flex: 1 1 400px;
  padding: 2rem;
  border: 1px solid #ccc;
  border-radius: 12px;
  background-color: #f9f9f9;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
">
  <a href="/usuarios" class="btn btn-secondary" style="float: left;">&larr; Volver</a>
  <img id="user-photo" src="<%= user.photoUrl %>" alt="Foto de <%= user.name %>" style="width: 180px; height: 180px; border-radius: 50%; object-fit: cover;" onerror="this.src='/uploads/default.jpg';">

  <h2 id="user-name"><%= user.name %> (ID: <%= user.id %>)</h2>
  <p><strong>Registrado el:</strong> <span id="user-fecha">
    <%= new Date(user.fechaRegistro).toLocaleDateString('es-ES') %>
  </span></p>

  <div class="section">
    <h4>Informaci√≥n F√≠sica</h4>
    <p>Altura: <span id="user-height"><%= user.height %></span> m</p>
  </div>

  <div class="section">
    <h4>Estad√≠sticas</h4>
    <p>Puntos totales: <span id="user-puntos-totales"><%= user.puntosTotales %></span></p>
    <p>Puntos en la √∫ltima sesi√≥n: <span id="user-puntos-sesion"><%= user.puntosSesion %></span></p>
    <p>Sesiones realizadas: <span id="user-sesiones"><%= user.numeroSesiones %></span></p>
    <p>Tiempo total de ejercicio: <span id="user-tiempo"><%= user.tiempoTotalEjercicio.toFixed(2) %></span> minutos</p>
  </div>

  <div class="section">
    <h4>Logros</h4>
    <ul id="user-logros">
      <% if (user.logros.length > 0) { %>
        <% user.logros.forEach(logro => { %>
          <li>üèÖ <%= logro.name %></li>
        <% }) %>
      <% } else { %>
        <li><em>No hay logros todav√≠a.</em></li>
      <% } %>
    </ul>
  </div>

  <div class="section">
    <h4>Retos Completados</h4>
    <ul id="user-retos">
      <% if (user.retosCompletados.length > 0) { %>
        <% user.retosCompletados.forEach(reto => { %>
          <li>‚úÖ <%= reto %></li>
        <% }) %>
      <% } else { %>
        <li><em>No ha completado ning√∫n reto a√∫n.</em></li>
      <% } %>
    </ul>
  </div>
</div>
